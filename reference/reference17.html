<!DOCTYPE html>
<html>
  <head>
    <title>
      17. First-Order Controls
    </title>
    <meta charset="UTF-8"/>
    <style>
      body { font-family: consolas; }
      ul { list-style-type: none; }
      a { text-decoration: none; }
    </style>
  </head>
  <body>
    <br/>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference16.html">
      <input type="button" value="&lt;"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference.html">
      <input type="button" value="^"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference18.html">
      <input type="button" value="&gt;"/>
    </a>
    <h2>
      17. First-Order Controls
    </h2>
    <div>
      <h3>
        then else
      </h3>
      <ul>
        <li>
          Alias of begin.
        </li>
      </ul>
    </div>
    <div>
      <h3>
        loop
      </h3>
      <ul>
        <li>
          Evaluate the FORMS as an implicit `begin' in an infinite loop.
        </li>
        <li>
          $(fn . forms)
        </li>
        <li>
          $(type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        atEnd
      </h3>
      <ul>
        <li>
          Evaluate the PROTECTED-FORMS as an implicit `begin' and return its result.
          <br/>
            Regardless of whether the protected form returns normally, or via a nonlocal exit or panic,
          <br/>
            the CLEANUP-FORM are evaluated after the protected forms.
        </li>
        <li>
          $(fn cleanupForm . protectedForms)
        </li>
        <li>
          $(type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        finally
      </h3>
      <ul>
        <li>
          Evaluate the PROTECTED-FORM and return its result.
          <br/>
            Regardless of whether the protected form returns normally, or via a nonlocal exit, or panic,
          <br/>
            the CLEANUP-FORMS are evaluated as an implicit `begin' after the protected forms.
        </li>
        <li>
          $(fn protectedForm . cleanupForms)
        </li>
        <li>
          $(type macro)
        </li>
        <li>
          $(derivation (list 'atEnd (cons 'begin cleanupForms) protectedForm)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        throwTag
      </h3>
      <ul>
        <li>
          Abort to a nesting catch TAG established by `catch', evaluate FORMS as an implicit `begin' and return its result.
        </li>
        <li>
          $(fn tag . forms)
        </li>
        <li>
          $(type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        throw
      </h3>
      <ul>
        <li>
          Abort to a nesting generic catch, evaluate FORMS as an implicit `begin' and return its result.
        </li>
        <li>
          $(fn . forms)
        </li>
        <li>
          $(type fexpr)
        </li>
        <li>
          $(derivation (list* 'throwTag #ignore forms))
        </li>
      </ul>
    </div>
    <div>
      <h3>
        catchTagWth
      </h3>
      <ul>
        <li>
          Establish a catch TAG with an HANDLER (one arg function or any value) and evaluate FORMS as an implicit `begin' and return its result.
          <br/>
            The FORMS may use `throw' to nonlocally exit from the TAG. if FORMS throw and HANDLER is a value, value will be the result of `catchTagWth'
          <br/>
            otherwise the value of the `throw' is passed to the HANDLER and the value returned by the HANDLER will be the result of the `catchTagWth'
        </li>
        <li>
          $(fn tag handler . forms)
        </li>
        <li>
          $(type (if (ctApv) macro fexpr))
        </li>
      </ul>
    </div>
    <div>
      <h3>
        catchWth
      </h3>
      <ul>
        <li>
          Establish an generic catch all with HANDLER (one arg function or any value) and evaluate FORMS as an implicit `begin' and return its result.
          <br/>
            The FORMS may use `throw' to nonlocally exit. if FORMS throw and HANDLER is a value, value will be the result of `catchWth'
          <br/>
            otherwise the value of the `throw' is passed to the HANDLER and the value returned by the HANDLER will be the result of the `catchWth'
        </li>
        <li>
          $(fn handler . forms)
        </li>
        <li>
          $(type macro)
        </li>
        <li>
          $(derivation (list* 'catchTagWth #ignore handler forms))
        </li>
      </ul>
    </div>
    <div>
      <h3>
        catchTag
      </h3>
      <ul>
        <li>
          Establish a catch TAG without handler and evaluate FORMS as an implicit `begin' and return its result.
          <br/>
            The FORMS may use `throw' to nonlocally exit from the tag. if FORMS throw the value returned by the `throw' will be the result of the `catchTag'
        </li>
        <li>
          $(fn tag . forms)
        </li>
        <li>
          $(type macro)
        </li>
        <li>
          $(derivation (list* 'catchTagWth tag #ignore forms))
        </li>
      </ul>
    </div>
    <div>
      <h3>
        catch
      </h3>
      <ul>
        <li>
          Establish an generic catch all without handler and evaluate FORMS as an implicit `begin' and return its result.
          <br/>
            The FORMS may use `throw' to nonlocally exit. if FORMS throw the value returned by the `throw' will be the result of the `catch'
        </li>
        <li>
          $(fn . forms)
        </li>
        <li>
          $(type macro)
        </li>
        <li>
          $(derivation (list* 'catchTagWth #ignore #ignore forms))
        </li>
      </ul>
    </div>
    <br/>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference16.html">
      <input type="button" value="&lt;"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference.html">
      <input type="button" value="^"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference18.html">
      <input type="button" value="&gt;"/>
    </a>
  </body>
</html>
