<!DOCTYPE html>
<html>
  <head>
    <title>
      28. Options
    </title>
    <meta charset="UTF-8"/>
    <style>
      body { margin-left: 2%; }
      ul { list-style-type: none; }
      a { text-decoration: none; }
    </style>
  </head>
  <body>
    <br/>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference27.html">
      <input type="button" value="&lt;"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference.html">
      <input type="button" value="^"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference29.html">
      <input type="button" value="&gt;"/>
    </a>
    <h2>
      28. Options
    </h2>
    <ul>
      <li>
        An option is either #null (&quot;none&quot;), or a one-element list (&quot;some&quot;).
      </li>
      <li>
        Idea from Taylor R. Campbell's blag. https://mumble.net/~campbell/blag.txt
      </li>
    </ul>
    <div>
      <h3>
        some
      </h3>
      <ul>
        <li>
          Create a one-element list from the VALUE.
          <br/>
            Alias of cons!.
        </li>
      </ul>
    </div>
    <div>
      <h3>
        ifOpt
      </h3>
      <ul>
        <li>
          Single-value OPTION destructuring.
          <br/>
            Evaluate the THEN form with the NAME bound to the contents of the OPTION if the evaluation of OPTION is !#null,
          <br/>
            evaluate the ELSE forms as an implicit `begin' otherwise.
          <br/>
            &nbsp;
        </li>
        <li>
          (ifOpt (name option) then . else)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        ifOpt*
      </h3>
      <ul>
        <li>
          Multi-valued OPTION destructuring.
          <br/>
            Evaluate THEN form with the DEFINIEND-TREE bound to OPTION value if the evaluation of OPTION is !#null,
          <br/>
            evaluate the ELSE forms as an implicit `begin' otherwise.
          <br/>
            &nbsp;
        </li>
        <li>
          (ifOpt* (definiendTree option) then . else)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        whenOpt
      </h3>
      <ul>
        <li>
          Destructure the OPTION.
          <br/>
            Return #null if the evaluation of OPTION it's #null,
          <br/>
            evaluate FORMS as an implicit `begin' with the NAME bound to the contents of the OPTION, otherwise.
          <br/>
            &nbsp;
        </li>
        <li>
          (whenOpt (name option) . forms)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        unlessOpt
      </h3>
      <ul>
        <li>
          Destructure the OPTION.
          <br/>
            Return the evaluation of FORMS as an implicit `begin' if the evaluation of OPTION is #null, #null otherwise.
          <br/>
            &nbsp;
        </li>
        <li>
          (unlessOpt option . forms)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        caseOpt
      </h3>
      <ul>
        <li>
          Multi-armed ifOpt.
          <br/>
            Evaluate OPTION and go through the CLAUSES in order.
          <br/>
            If OPTION is #null return #null.
          <br/>
            If CLAUSES is #null return #null.
          <br/>
            If `car' of CLAUSE is else evaluate FORMS as an implicit `begin'.
          <br/>
            If the OPTION match the DEFINIEND-TREE evaluate FORMS as an implicit `begin' into resulting ENVIRONMENT.
          <br/>
            Otherwise go to the next CLAUSE.
          <br/>
            &nbsp;
        </li>
        <li>
          (caseOpt option . clauses)
        </li>
        <li>
          (type fexpr)
        </li>
        <li>
          (syntax clauses (clause . clauses))
        </li>
        <li>
          (syntax clause (else . forms))
        </li>
        <li>
          (syntax clause (definiendTree . forms))
        </li>
      </ul>
    </div>
    <div>
      <h3>
        optDft
      </h3>
      <ul>
        <li>
          Return the contents of the OPTION if the option is !#null,
          <br/>
            the evaluation if DEFAULT if present, #inert otherwise.
          <br/>
            The DEFAULT is evaluated lazily, only when the OPTION is #null.
          <br/>
            &nbsp;
        </li>
        <li>
          (optDft option . default)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        optDft*
      </h3>
      <ul>
        <li>
          Similar to `optdft', but provides DEFAULT for any elements of LIST.
          <br/>
            This is useful for implementing functions that take multiple optional arguments.
          <br/>
            Each DEFAULT is evaluated lazily, only when needed.
          <br/>
            &nbsp;
        </li>
        <li>
          (optDft* list . defaults)
        </li>
        <li>
          (type fexpr)
        </li>
        <li>
          (syntax defaults (default . defaults))
        </li>
      </ul>
    </div>
    <div>
      <h3>
        optDft!
      </h3>
      <ul>
        <li>
          Returns the contents of the OPTION or signals an error if it is #null.
          <br/>
            &nbsp;
        </li>
        <li>
          (optDft! option)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <br/>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference27.html">
      <input type="button" value="&lt;"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference.html">
      <input type="button" value="^"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference29.html">
      <input type="button" value="&gt;"/>
    </a>
  </body>
</html>
