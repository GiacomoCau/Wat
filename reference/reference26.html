<!DOCTYPE html>
<html>
  <head>
    <title>
      26. Options
    </title>
    <meta charset="UTF-8"/>
    <style>
      body { font-family: consolas; }
      ul { list-style-type: none; }
      a { text-decoration: none; }
    </style>
  </head>
  <body>
    <br/>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference25.html">
      <input type="button" value="&lt;"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference.html">
      <input type="button" value="^"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference27.html">
      <input type="button" value="&gt;"/>
    </a>
    <h2>
      26. Options
    </h2>
    <ul>
      <li>
        An option is either #null (&quot;none&quot;), or a one-element list (&quot;some&quot;).
      </li>
      <li>
        Idea from Taylor R. Campbell's blag. https://mumble.net/~campbell/blag.txt
      </li>
    </ul>
    <div>
      <h3>
        some
      </h3>
      <ul>
        <li>
          Create a one-element list from the VALUE.
          <br/>
            Alias of cons!.
        </li>
      </ul>
    </div>
    <div>
      <h3>
        ifOpt
      </h3>
      <ul>
        <li>
          Single-value OPTION destructuring.
          <br/>
            If the evaluation of OPTION it's not #null, evaluate the THEN form with the NAME bound to the contents of the OPTION.
          <br/>
            Otherwise, evaluate the ELSE forms as an implicit `begin'.
          <br/>
            &nbsp;
        </li>
        <li>
          (ifOpt (name option) then . else)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        ifOpt*
      </h3>
      <ul>
        <li>
          Multi-valued OPTION destructuring.
          <br/>
            If the evaluation of OPTION it's not #null, evaluate THEN form with the DEFINIEND-TREE bound to OPTION value.
          <br/>
            Otherwise, evaluate the ELSE forms as an implicit `begin'.
          <br/>
            &nbsp;
        </li>
        <li>
          (ifOpt* (definiendTree option) then . else)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        whenOpt
      </h3>
      <ul>
        <li>
          Destructure the OPTION.
          <br/>
            If the evaluation of OPTION it's #null, return #null.
          <br/>
            Otherwise, evaluate the FORMS as an implicit `begin' with the NAME bound to the contents of the OPTION.
          <br/>
            &nbsp;
        </li>
        <li>
          (whenOpt (name option) . forms)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        unlessOpt
      </h3>
      <ul>
        <li>
          Destructure the OPTION.
          <br/>
            If the evaluation of OPTION it's #null, evaluate the FORMS as an implicit `begin'.
          <br/>
            Otherwise, return #null.
          <br/>
            &nbsp;
        </li>
        <li>
          (unlessOpt option . forms)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        caseOpt
      </h3>
      <ul>
        <li>
          Multi-armed ifOpt.
          <br/>
            Evaluate OPTION and go through the CLAUSES in order.
          <br/>
            If OPTION is #null return #null.
          <br/>
            If CLAUSES is #null return #null.
          <br/>
            If car of CLAUSE is else evaluate FORMS as an implicit `begin'.
          <br/>
            If the OPTION match the DEFINIEND-TREE evaluate FORMS as an implicit `begin' into resulting ENVIRONMENT.
          <br/>
            Otherwise go to the next CLAUSE.
          <br/>
            &nbsp;
        </li>
        <li>
          (caseOpt option . clauses)
        </li>
        <li>
          (type fexpr)
        </li>
        <li>
          (syntax clauses (or () (clause . clauses)))
        </li>
        <li>
          (syntax clause (else . forms))
        </li>
        <li>
          (syntax clause (definiendTree . forms))
        </li>
      </ul>
    </div>
    <div>
      <h3>
        optDft
      </h3>
      <ul>
        <li>
          Return the contents of the OPTION, or the DEFAULT if the option is #null.
          <br/>
            The default itself defaults to #inert.
          <br/>
            The DEFAULT is evaluated lazily, only when the OPTION is #null.
          <br/>
            &nbsp;
        </li>
        <li>
          (optDft option . default)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        optDft*
      </h3>
      <ul>
        <li>
          Similar to `opt', but provides DEFAULTS for any number of elements of LIST.
          <br/>
            This is useful for implementing functions that take multiple optDft arguments.
          <br/>
            Each default is evaluated lazily, only when needed.
          <br/>
            &nbsp;
        </li>
        <li>
          (optDft* list . defaults)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <div>
      <h3>
        optDft!
      </h3>
      <ul>
        <li>
          Returns the contents of the OPTION or signals an error if it is #null.
          <br/>
            &nbsp;
        </li>
        <li>
          (optDft! option)
        </li>
        <li>
          (type fexpr)
        </li>
      </ul>
    </div>
    <br/>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference25.html">
      <input type="button" value="&lt;"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference.html">
      <input type="button" value="^"/>
    </a>
    <a href="https://htmlpreview.github.io?https://github.com/GiacomoCau/Wat/blob/main/reference/reference27.html">
      <input type="button" value="&gt;"/>
    </a>
  </body>
</html>
